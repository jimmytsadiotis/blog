---
layout: post
title: Centralized License Compliance: Automating Security Across Your GitHub Organization
description: Stop chasing down license violations. Learn how to enforce dependency license compliance across hundreds of repositories with GitHub Rulesets and FOSSA.
summary: Discover a streamlined approach to automating license compliance across your GitHub organization, eliminating manual work and mitigating legal risks.
tags: github, devops, security, licenses, automation, fossa, rulesets, ci/cd
minute: 7
---

# Stop License Nightmares: Automate Compliance Across Your GitHub Organization

Imagine this: you're scaling rapidly, your team's pushing code to hundreds of repositories, and suddenly, you're hit with a legal notice about unlicensed dependencies. Sound familiar?

We've all been there. Manually checking licenses across a vast codebase is a recipe for disaster. But what if you could automate it all, ensuring every dependency meets your organization's standards?

That's exactly what we're going to dive into. We'll explore how to leverage the power of **GitHub Repository Rulesets** and **FOSSA** to build a centralized, scalable license compliance system.

## The Challenge: Scaling Compliance Without Scaling Headaches

The old way? Custom scripts in every repository. Tedious, error-prone, and a maintenance nightmare. We needed a solution that:

* **Centralized Control:** Manage compliance from a single point.
* **Automation:** Eliminate manual license checks.
* **Scalability:** Work seamlessly across hundreds of repositories.
* **CI/CD Integration:** Fail builds on non-compliant licenses.

## The Solution: GitHub Rulesets + FOSSA

We're going to build a system that automatically scans dependencies for unwanted licenses, configured at the GitHub organization level, and fails pull requests that don't meet our requirements.

### Step 1: Building the Centralized FOSSA Workflow

We'll start by creating a dedicated repository, `required-workflows`, to house our FOSSA scanning workflow.

```yaml
name: FOSSA

on:
  pull_request: {}
  workflow_dispatch: {}
  merge_group:
    types: [checks_requested]

jobs:
  fossa:
    runs-on: ubuntu-20.04 # or self-hosted
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2
      - name: Install FOSSA
        run: |
          curl -H 'Cache-Control: no-cache' [https://raw.githubusercontent.com/fossas/fossa-cli/master/install-latest.sh](https://raw.githubusercontent.com/fossas/fossa-cli/master/install-latest.sh) | bash
      - name: Set FOSSA API Key
        env:
          FOSSA_API_KEY: ${{ secrets.FOSSA_API_KEY }}
        run: echo "FOSSA_API_KEY=${FOSSA_API_KEY}" >> $GITHUB_ENV
      - name: Run FOSSA Analysis
        run: fossa analyze
      - name: Run FOSSA Test
        run: fossa test
        # Remove continue-on-error: true to fail pipeline on violations
```